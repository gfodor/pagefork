// Generated by CoffeeScript 1.5.0
(function() {

  $(function() {
    var component, target;
    target = $("#doc-container .phork-html")[0];
    component = new HtmlRenderer({
      content: "<div></div>"
    });
    React.renderComponent(component, target);
    window.addEventListener("message", function(e) {
      var data, ok, response;
      data = JSON.parse(e.data);
      ok = false;
      try {
        if (component.props.content !== data.beforeHtml) {
          component.setProps({
            content: data.beforeHtml
          });
        }
        component.setProps({
          content: data.afterHtml
        });
        ok = true;
      } catch (e) {

      }
      response = {
        type: "guard",
        result: ok,
        version: data.version,
        afterHtml: data.afterHtml
      };
      return e.source.postMessage(JSON.stringify(response), "*");
    });
    return window.parent.postMessage(JSON.stringify({
      type: "guardReady",
      result: true
    }), "*");
  });

}).call(this);
